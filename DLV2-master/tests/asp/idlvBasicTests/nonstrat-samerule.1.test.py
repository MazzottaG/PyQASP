input = """
%#show r5_new/4.
r5_new(X0,X1,X2,ts) :- r5_new(X0,X1,X2,ta).
r5_new(X0,X1,X2,ts) :- r5(X0,X1,X2).

r5_new(X0,X1,X2,tss) :- r5_new(X0,X1,X2,ts), not r5_new(X0,X1,X2,fa).


r5_new(X,Y,G,fa) :- r5_new(X,Y,G,ts), r5_new(X,Z,U,ts), not r5_new(X,Z,U,fa), Y <> Z.
%r5_new(X,Z,U,fa) :- r5_new(X,Y,G,ts), r5_new(X,Z,U,ts), not r5_new(X,Y,G,fa), Y <> Z.

%r5_new(X,Y,G,fa) :- r5_new(X,Y,G,ts), r5_new(X,Z,U,ts), not r5_new(X,Z,U,fa), U <> G.
%r5_new(X,Z,U,fa) :- r5_new(X,Y,G,ts), r5_new(X,Z,U,ts), not r5_new(X,Y,G,fa), U <> G.


r5(1,122750,7963).
r5(1,79883,1081).
r5(2,277430,6023).
r5(3,360652,6858).
r5(4,28487,8961).
r5(5,301416,5970).
r5(6,267529,3783).
r5(7,349803,8916).
r5(8,186741,6278).
r5(9,277865,5773).
r5(10,65040,7999).
r5(11,265142,7888).
r5(12,72986,533).
r5(13,109687,8101).
r5(14,173699,2002).
r5(15,182198,1993).
r5(16,182661,6316).
r5(17,285897,2837).
r5(18,216041,2013).
r5(19,218208,9001).
r5(20,313691,9337).
r5(20,25766,4710).
r5(21,204534,6131).
r5(22,192432,6261).
r5(23,211815,889).
r5(24,101857,5198).
r5(25,92443,5358).
r5(26,143365,6748).
r5(27,89779,5986).
r5(28,352166,1980).
r5(29,277851,6058).
r5(30,88661,5099).
r5(31,289930,1257).
r5(32,52463,8009).
r5(33,147680,7107).
r5(34,154657,6874).
r5(35,281674,3518).

"""
output = """
{r5(1,122750,7963), r5(1,79883,1081), r5(10,65040,7999), r5(11,265142,7888), r5(12,72986,533), r5(13,109687,8101), r5(14,173699,2002), r5(15,182198,1993), r5(16,182661,6316), r5(17,285897,2837), r5(18,216041,2013), r5(19,218208,9001), r5(2,277430,6023), r5(20,25766,4710), r5(20,313691,9337), r5(21,204534,6131), r5(22,192432,6261), r5(23,211815,889), r5(24,101857,5198), r5(25,92443,5358), r5(26,143365,6748), r5(27,89779,5986), r5(28,352166,1980), r5(29,277851,6058), r5(3,360652,6858), r5(30,88661,5099), r5(31,289930,1257), r5(32,52463,8009), r5(33,147680,7107), r5(34,154657,6874), r5(35,281674,3518), r5(4,28487,8961), r5(5,301416,5970), r5(6,267529,3783), r5(7,349803,8916), r5(8,186741,6278), r5(9,277865,5773), r5_new(1,122750,7963,ts), r5_new(1,122750,7963,tss), r5_new(1,79883,1081,fa), r5_new(1,79883,1081,ts), r5_new(10,65040,7999,ts), r5_new(10,65040,7999,tss), r5_new(11,265142,7888,ts), r5_new(11,265142,7888,tss), r5_new(12,72986,533,ts), r5_new(12,72986,533,tss), r5_new(13,109687,8101,ts), r5_new(13,109687,8101,tss), r5_new(14,173699,2002,ts), r5_new(14,173699,2002,tss), r5_new(15,182198,1993,ts), r5_new(15,182198,1993,tss), r5_new(16,182661,6316,ts), r5_new(16,182661,6316,tss), r5_new(17,285897,2837,ts), r5_new(17,285897,2837,tss), r5_new(18,216041,2013,ts), r5_new(18,216041,2013,tss), r5_new(19,218208,9001,ts), r5_new(19,218208,9001,tss), r5_new(2,277430,6023,ts), r5_new(2,277430,6023,tss), r5_new(20,25766,4710,fa), r5_new(20,25766,4710,ts), r5_new(20,313691,9337,ts), r5_new(20,313691,9337,tss), r5_new(21,204534,6131,ts), r5_new(21,204534,6131,tss), r5_new(22,192432,6261,ts), r5_new(22,192432,6261,tss), r5_new(23,211815,889,ts), r5_new(23,211815,889,tss), r5_new(24,101857,5198,ts), r5_new(24,101857,5198,tss), r5_new(25,92443,5358,ts), r5_new(25,92443,5358,tss), r5_new(26,143365,6748,ts), r5_new(26,143365,6748,tss), r5_new(27,89779,5986,ts), r5_new(27,89779,5986,tss), r5_new(28,352166,1980,ts), r5_new(28,352166,1980,tss), r5_new(29,277851,6058,ts), r5_new(29,277851,6058,tss), r5_new(3,360652,6858,ts), r5_new(3,360652,6858,tss), r5_new(30,88661,5099,ts), r5_new(30,88661,5099,tss), r5_new(31,289930,1257,ts), r5_new(31,289930,1257,tss), r5_new(32,52463,8009,ts), r5_new(32,52463,8009,tss), r5_new(33,147680,7107,ts), r5_new(33,147680,7107,tss), r5_new(34,154657,6874,ts), r5_new(34,154657,6874,tss), r5_new(35,281674,3518,ts), r5_new(35,281674,3518,tss), r5_new(4,28487,8961,ts), r5_new(4,28487,8961,tss), r5_new(5,301416,5970,ts), r5_new(5,301416,5970,tss), r5_new(6,267529,3783,ts), r5_new(6,267529,3783,tss), r5_new(7,349803,8916,ts), r5_new(7,349803,8916,tss), r5_new(8,186741,6278,ts), r5_new(8,186741,6278,tss), r5_new(9,277865,5773,ts), r5_new(9,277865,5773,tss)}
{r5(1,122750,7963), r5(1,79883,1081), r5(10,65040,7999), r5(11,265142,7888), r5(12,72986,533), r5(13,109687,8101), r5(14,173699,2002), r5(15,182198,1993), r5(16,182661,6316), r5(17,285897,2837), r5(18,216041,2013), r5(19,218208,9001), r5(2,277430,6023), r5(20,25766,4710), r5(20,313691,9337), r5(21,204534,6131), r5(22,192432,6261), r5(23,211815,889), r5(24,101857,5198), r5(25,92443,5358), r5(26,143365,6748), r5(27,89779,5986), r5(28,352166,1980), r5(29,277851,6058), r5(3,360652,6858), r5(30,88661,5099), r5(31,289930,1257), r5(32,52463,8009), r5(33,147680,7107), r5(34,154657,6874), r5(35,281674,3518), r5(4,28487,8961), r5(5,301416,5970), r5(6,267529,3783), r5(7,349803,8916), r5(8,186741,6278), r5(9,277865,5773), r5_new(1,122750,7963,ts), r5_new(1,122750,7963,tss), r5_new(1,79883,1081,fa), r5_new(1,79883,1081,ts), r5_new(10,65040,7999,ts), r5_new(10,65040,7999,tss), r5_new(11,265142,7888,ts), r5_new(11,265142,7888,tss), r5_new(12,72986,533,ts), r5_new(12,72986,533,tss), r5_new(13,109687,8101,ts), r5_new(13,109687,8101,tss), r5_new(14,173699,2002,ts), r5_new(14,173699,2002,tss), r5_new(15,182198,1993,ts), r5_new(15,182198,1993,tss), r5_new(16,182661,6316,ts), r5_new(16,182661,6316,tss), r5_new(17,285897,2837,ts), r5_new(17,285897,2837,tss), r5_new(18,216041,2013,ts), r5_new(18,216041,2013,tss), r5_new(19,218208,9001,ts), r5_new(19,218208,9001,tss), r5_new(2,277430,6023,ts), r5_new(2,277430,6023,tss), r5_new(20,25766,4710,ts), r5_new(20,25766,4710,tss), r5_new(20,313691,9337,fa), r5_new(20,313691,9337,ts), r5_new(21,204534,6131,ts), r5_new(21,204534,6131,tss), r5_new(22,192432,6261,ts), r5_new(22,192432,6261,tss), r5_new(23,211815,889,ts), r5_new(23,211815,889,tss), r5_new(24,101857,5198,ts), r5_new(24,101857,5198,tss), r5_new(25,92443,5358,ts), r5_new(25,92443,5358,tss), r5_new(26,143365,6748,ts), r5_new(26,143365,6748,tss), r5_new(27,89779,5986,ts), r5_new(27,89779,5986,tss), r5_new(28,352166,1980,ts), r5_new(28,352166,1980,tss), r5_new(29,277851,6058,ts), r5_new(29,277851,6058,tss), r5_new(3,360652,6858,ts), r5_new(3,360652,6858,tss), r5_new(30,88661,5099,ts), r5_new(30,88661,5099,tss), r5_new(31,289930,1257,ts), r5_new(31,289930,1257,tss), r5_new(32,52463,8009,ts), r5_new(32,52463,8009,tss), r5_new(33,147680,7107,ts), r5_new(33,147680,7107,tss), r5_new(34,154657,6874,ts), r5_new(34,154657,6874,tss), r5_new(35,281674,3518,ts), r5_new(35,281674,3518,tss), r5_new(4,28487,8961,ts), r5_new(4,28487,8961,tss), r5_new(5,301416,5970,ts), r5_new(5,301416,5970,tss), r5_new(6,267529,3783,ts), r5_new(6,267529,3783,tss), r5_new(7,349803,8916,ts), r5_new(7,349803,8916,tss), r5_new(8,186741,6278,ts), r5_new(8,186741,6278,tss), r5_new(9,277865,5773,ts), r5_new(9,277865,5773,tss)}
{r5(1,122750,7963), r5(1,79883,1081), r5(10,65040,7999), r5(11,265142,7888), r5(12,72986,533), r5(13,109687,8101), r5(14,173699,2002), r5(15,182198,1993), r5(16,182661,6316), r5(17,285897,2837), r5(18,216041,2013), r5(19,218208,9001), r5(2,277430,6023), r5(20,25766,4710), r5(20,313691,9337), r5(21,204534,6131), r5(22,192432,6261), r5(23,211815,889), r5(24,101857,5198), r5(25,92443,5358), r5(26,143365,6748), r5(27,89779,5986), r5(28,352166,1980), r5(29,277851,6058), r5(3,360652,6858), r5(30,88661,5099), r5(31,289930,1257), r5(32,52463,8009), r5(33,147680,7107), r5(34,154657,6874), r5(35,281674,3518), r5(4,28487,8961), r5(5,301416,5970), r5(6,267529,3783), r5(7,349803,8916), r5(8,186741,6278), r5(9,277865,5773), r5_new(1,122750,7963,fa), r5_new(1,122750,7963,ts), r5_new(1,79883,1081,ts), r5_new(1,79883,1081,tss), r5_new(10,65040,7999,ts), r5_new(10,65040,7999,tss), r5_new(11,265142,7888,ts), r5_new(11,265142,7888,tss), r5_new(12,72986,533,ts), r5_new(12,72986,533,tss), r5_new(13,109687,8101,ts), r5_new(13,109687,8101,tss), r5_new(14,173699,2002,ts), r5_new(14,173699,2002,tss), r5_new(15,182198,1993,ts), r5_new(15,182198,1993,tss), r5_new(16,182661,6316,ts), r5_new(16,182661,6316,tss), r5_new(17,285897,2837,ts), r5_new(17,285897,2837,tss), r5_new(18,216041,2013,ts), r5_new(18,216041,2013,tss), r5_new(19,218208,9001,ts), r5_new(19,218208,9001,tss), r5_new(2,277430,6023,ts), r5_new(2,277430,6023,tss), r5_new(20,25766,4710,fa), r5_new(20,25766,4710,ts), r5_new(20,313691,9337,ts), r5_new(20,313691,9337,tss), r5_new(21,204534,6131,ts), r5_new(21,204534,6131,tss), r5_new(22,192432,6261,ts), r5_new(22,192432,6261,tss), r5_new(23,211815,889,ts), r5_new(23,211815,889,tss), r5_new(24,101857,5198,ts), r5_new(24,101857,5198,tss), r5_new(25,92443,5358,ts), r5_new(25,92443,5358,tss), r5_new(26,143365,6748,ts), r5_new(26,143365,6748,tss), r5_new(27,89779,5986,ts), r5_new(27,89779,5986,tss), r5_new(28,352166,1980,ts), r5_new(28,352166,1980,tss), r5_new(29,277851,6058,ts), r5_new(29,277851,6058,tss), r5_new(3,360652,6858,ts), r5_new(3,360652,6858,tss), r5_new(30,88661,5099,ts), r5_new(30,88661,5099,tss), r5_new(31,289930,1257,ts), r5_new(31,289930,1257,tss), r5_new(32,52463,8009,ts), r5_new(32,52463,8009,tss), r5_new(33,147680,7107,ts), r5_new(33,147680,7107,tss), r5_new(34,154657,6874,ts), r5_new(34,154657,6874,tss), r5_new(35,281674,3518,ts), r5_new(35,281674,3518,tss), r5_new(4,28487,8961,ts), r5_new(4,28487,8961,tss), r5_new(5,301416,5970,ts), r5_new(5,301416,5970,tss), r5_new(6,267529,3783,ts), r5_new(6,267529,3783,tss), r5_new(7,349803,8916,ts), r5_new(7,349803,8916,tss), r5_new(8,186741,6278,ts), r5_new(8,186741,6278,tss), r5_new(9,277865,5773,ts), r5_new(9,277865,5773,tss)}
{r5(1,122750,7963), r5(1,79883,1081), r5(10,65040,7999), r5(11,265142,7888), r5(12,72986,533), r5(13,109687,8101), r5(14,173699,2002), r5(15,182198,1993), r5(16,182661,6316), r5(17,285897,2837), r5(18,216041,2013), r5(19,218208,9001), r5(2,277430,6023), r5(20,25766,4710), r5(20,313691,9337), r5(21,204534,6131), r5(22,192432,6261), r5(23,211815,889), r5(24,101857,5198), r5(25,92443,5358), r5(26,143365,6748), r5(27,89779,5986), r5(28,352166,1980), r5(29,277851,6058), r5(3,360652,6858), r5(30,88661,5099), r5(31,289930,1257), r5(32,52463,8009), r5(33,147680,7107), r5(34,154657,6874), r5(35,281674,3518), r5(4,28487,8961), r5(5,301416,5970), r5(6,267529,3783), r5(7,349803,8916), r5(8,186741,6278), r5(9,277865,5773), r5_new(1,122750,7963,fa), r5_new(1,122750,7963,ts), r5_new(1,79883,1081,ts), r5_new(1,79883,1081,tss), r5_new(10,65040,7999,ts), r5_new(10,65040,7999,tss), r5_new(11,265142,7888,ts), r5_new(11,265142,7888,tss), r5_new(12,72986,533,ts), r5_new(12,72986,533,tss), r5_new(13,109687,8101,ts), r5_new(13,109687,8101,tss), r5_new(14,173699,2002,ts), r5_new(14,173699,2002,tss), r5_new(15,182198,1993,ts), r5_new(15,182198,1993,tss), r5_new(16,182661,6316,ts), r5_new(16,182661,6316,tss), r5_new(17,285897,2837,ts), r5_new(17,285897,2837,tss), r5_new(18,216041,2013,ts), r5_new(18,216041,2013,tss), r5_new(19,218208,9001,ts), r5_new(19,218208,9001,tss), r5_new(2,277430,6023,ts), r5_new(2,277430,6023,tss), r5_new(20,25766,4710,ts), r5_new(20,25766,4710,tss), r5_new(20,313691,9337,fa), r5_new(20,313691,9337,ts), r5_new(21,204534,6131,ts), r5_new(21,204534,6131,tss), r5_new(22,192432,6261,ts), r5_new(22,192432,6261,tss), r5_new(23,211815,889,ts), r5_new(23,211815,889,tss), r5_new(24,101857,5198,ts), r5_new(24,101857,5198,tss), r5_new(25,92443,5358,ts), r5_new(25,92443,5358,tss), r5_new(26,143365,6748,ts), r5_new(26,143365,6748,tss), r5_new(27,89779,5986,ts), r5_new(27,89779,5986,tss), r5_new(28,352166,1980,ts), r5_new(28,352166,1980,tss), r5_new(29,277851,6058,ts), r5_new(29,277851,6058,tss), r5_new(3,360652,6858,ts), r5_new(3,360652,6858,tss), r5_new(30,88661,5099,ts), r5_new(30,88661,5099,tss), r5_new(31,289930,1257,ts), r5_new(31,289930,1257,tss), r5_new(32,52463,8009,ts), r5_new(32,52463,8009,tss), r5_new(33,147680,7107,ts), r5_new(33,147680,7107,tss), r5_new(34,154657,6874,ts), r5_new(34,154657,6874,tss), r5_new(35,281674,3518,ts), r5_new(35,281674,3518,tss), r5_new(4,28487,8961,ts), r5_new(4,28487,8961,tss), r5_new(5,301416,5970,ts), r5_new(5,301416,5970,tss), r5_new(6,267529,3783,ts), r5_new(6,267529,3783,tss), r5_new(7,349803,8916,ts), r5_new(7,349803,8916,tss), r5_new(8,186741,6278,ts), r5_new(8,186741,6278,tss), r5_new(9,277865,5773,ts), r5_new(9,277865,5773,tss)}
"""
