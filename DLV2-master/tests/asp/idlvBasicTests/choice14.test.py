input = """
{a(X);f(X,Y):not e(X,Y),h(Y)}:-Y=#sum{Z:g(Z)},b(X).
g(1..2)|d.
b(1..3).
c(1..3,0..2).
h(0..2).
"""
output = """
{b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, h(0), h(1), h(2)}
{a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, h(0), h(1), h(2)}
{a(1), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, h(0), h(1), h(2)}
{a(1), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, h(0), h(1), h(2)}
{a(2), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, h(0), h(1), h(2)}
{a(1), a(2), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, h(0), h(1), h(2)}
{a(2), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, h(0), h(1), h(2)}
{a(1), a(2), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, h(0), h(1), h(2)}
{b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(2,0), h(0), h(1), h(2)}
{a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(2,0), h(0), h(1), h(2)}
{a(1), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(2,0), h(0), h(1), h(2)}
{a(1), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(2,0), h(0), h(1), h(2)}
{a(2), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(2,0), h(0), h(1), h(2)}
{a(1), a(2), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(2,0), h(0), h(1), h(2)}
{a(2), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(2,0), h(0), h(1), h(2)}
{a(1), a(2), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(2,0), h(0), h(1), h(2)}
{b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(3,0), h(0), h(1), h(2)}
{a(2), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(3,0), h(0), h(1), h(2)}
{a(1), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(3,0), h(0), h(1), h(2)}
{a(1), a(2), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(3,0), h(0), h(1), h(2)}
{a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(3,0), h(0), h(1), h(2)}
{a(1), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(3,0), h(0), h(1), h(2)}
{a(2), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(3,0), h(0), h(1), h(2)}
{a(1), a(2), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(3,0), h(0), h(1), h(2)}
{b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(2,0), f(3,0), h(0), h(1), h(2)}
{a(2), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(2,0), f(3,0), h(0), h(1), h(2)}
{a(1), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(2,0), f(3,0), h(0), h(1), h(2)}
{a(1), a(2), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(2,0), f(3,0), h(0), h(1), h(2)}
{a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(2,0), f(3,0), h(0), h(1), h(2)}
{a(1), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(2,0), f(3,0), h(0), h(1), h(2)}
{a(2), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(2,0), f(3,0), h(0), h(1), h(2)}
{a(1), a(2), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(2,0), f(3,0), h(0), h(1), h(2)}
{b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), h(0), h(1), h(2)}
{a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), h(0), h(1), h(2)}
{a(1), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), h(0), h(1), h(2)}
{a(1), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), h(0), h(1), h(2)}
{a(2), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), h(0), h(1), h(2)}
{a(1), a(2), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), h(0), h(1), h(2)}
{a(2), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), h(0), h(1), h(2)}
{a(1), a(2), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), h(0), h(1), h(2)}
{b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(2,0), h(0), h(1), h(2)}
{a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(2,0), h(0), h(1), h(2)}
{a(1), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(2,0), h(0), h(1), h(2)}
{a(1), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(2,0), h(0), h(1), h(2)}
{a(2), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(2,0), h(0), h(1), h(2)}
{a(1), a(2), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(2,0), h(0), h(1), h(2)}
{a(2), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(2,0), h(0), h(1), h(2)}
{a(1), a(2), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(2,0), h(0), h(1), h(2)}
{b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(3,0), h(0), h(1), h(2)}
{a(2), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(3,0), h(0), h(1), h(2)}
{a(1), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(3,0), h(0), h(1), h(2)}
{a(1), a(2), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(3,0), h(0), h(1), h(2)}
{a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(3,0), h(0), h(1), h(2)}
{a(1), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(3,0), h(0), h(1), h(2)}
{a(2), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(3,0), h(0), h(1), h(2)}
{a(1), a(2), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(3,0), h(0), h(1), h(2)}
{b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(2,0), f(3,0), h(0), h(1), h(2)}
{a(2), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(2,0), f(3,0), h(0), h(1), h(2)}
{a(1), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(2,0), f(3,0), h(0), h(1), h(2)}
{a(1), a(2), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(2,0), f(3,0), h(0), h(1), h(2)}
{a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(2,0), f(3,0), h(0), h(1), h(2)}
{a(1), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(2,0), f(3,0), h(0), h(1), h(2)}
{a(2), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(2,0), f(3,0), h(0), h(1), h(2)}
{a(1), a(2), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), d, f(1,0), f(2,0), f(3,0), h(0), h(1), h(2)}
{b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), g(1), g(2), h(0), h(1), h(2)}
{a(1), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), g(1), g(2), h(0), h(1), h(2)}
{a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), g(1), g(2), h(0), h(1), h(2)}
{a(1), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), g(1), g(2), h(0), h(1), h(2)}
{a(2), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), g(1), g(2), h(0), h(1), h(2)}
{a(2), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), g(1), g(2), h(0), h(1), h(2)}
{a(1), a(2), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), g(1), g(2), h(0), h(1), h(2)}
{a(1), a(2), a(3), b(1), b(2), b(3), c(1,0), c(1,1), c(1,2), c(2,0), c(2,1), c(2,2), c(3,0), c(3,1), c(3,2), g(1), g(2), h(0), h(1), h(2)}
"""
