input = """
a(1..3).
a(-3)|g.
a(-4)|f.
a(-5)|d.

p(0..10).
p(-10..0).

ok1(X) :- p(X), #sum{K:a(K)}<X.
ok2(X) :- p(X), #sum{K:a(K)}<=X.
ok3(X) :- p(X), #sum{K:a(K)}>X.
ok4(X) :- p(X), #sum{K:a(K)}>=X.
ok5(X) :- p(X), #sum{K:a(K)}=X.
ok6(X) :- p(X),p(Y), X<#sum{K:a(K)}<Y.
ok7(X) :- p(X),p(Y), X<=#sum{K:a(K)}<Y.
ok8(X) :- p(X),p(Y), X<#sum{K:a(K)}<=Y.
ok9(X) :- p(X),p(Y), X<=#sum{K:a(K)}<=Y.


"""
output = """
{a(1), a(2), a(3), d, f, g, ok1(10), ok1(7), ok1(8), ok1(9), ok2(10), ok2(6), ok2(7), ok2(8), ok2(9), ok3(-1), ok3(-10), ok3(-2), ok3(-3), ok3(-4), ok3(-5), ok3(-6), ok3(-7), ok3(-8), ok3(-9), ok3(0), ok3(1), ok3(2), ok3(3), ok3(4), ok3(5), ok4(-1), ok4(-10), ok4(-2), ok4(-3), ok4(-4), ok4(-5), ok4(-6), ok4(-7), ok4(-8), ok4(-9), ok4(0), ok4(1), ok4(2), ok4(3), ok4(4), ok4(5), ok4(6), ok5(6), ok6(-1), ok6(-10), ok6(-2), ok6(-3), ok6(-4), ok6(-5), ok6(-6), ok6(-7), ok6(-8), ok6(-9), ok6(0), ok6(1), ok6(2), ok6(3), ok6(4), ok6(5), ok7(-1), ok7(-10), ok7(-2), ok7(-3), ok7(-4), ok7(-5), ok7(-6), ok7(-7), ok7(-8), ok7(-9), ok7(0), ok7(1), ok7(2), ok7(3), ok7(4), ok7(5), ok7(6), ok8(-1), ok8(-10), ok8(-2), ok8(-3), ok8(-4), ok8(-5), ok8(-6), ok8(-7), ok8(-8), ok8(-9), ok8(0), ok8(1), ok8(2), ok8(3), ok8(4), ok8(5), ok9(-1), ok9(-10), ok9(-2), ok9(-3), ok9(-4), ok9(-5), ok9(-6), ok9(-7), ok9(-8), ok9(-9), ok9(0), ok9(1), ok9(2), ok9(3), ok9(4), ok9(5), ok9(6), p(-1), p(-10), p(-2), p(-3), p(-4), p(-5), p(-6), p(-7), p(-8), p(-9), p(0), p(1), p(10), p(2), p(3), p(4), p(5), p(6), p(7), p(8), p(9)}
{a(-3), a(1), a(2), a(3), d, f, ok1(10), ok1(4), ok1(5), ok1(6), ok1(7), ok1(8), ok1(9), ok2(10), ok2(3), ok2(4), ok2(5), ok2(6), ok2(7), ok2(8), ok2(9), ok3(-1), ok3(-10), ok3(-2), ok3(-3), ok3(-4), ok3(-5), ok3(-6), ok3(-7), ok3(-8), ok3(-9), ok3(0), ok3(1), ok3(2), ok4(-1), ok4(-10), ok4(-2), ok4(-3), ok4(-4), ok4(-5), ok4(-6), ok4(-7), ok4(-8), ok4(-9), ok4(0), ok4(1), ok4(2), ok4(3), ok5(3), ok6(-1), ok6(-10), ok6(-2), ok6(-3), ok6(-4), ok6(-5), ok6(-6), ok6(-7), ok6(-8), ok6(-9), ok6(0), ok6(1), ok6(2), ok7(-1), ok7(-10), ok7(-2), ok7(-3), ok7(-4), ok7(-5), ok7(-6), ok7(-7), ok7(-8), ok7(-9), ok7(0), ok7(1), ok7(2), ok7(3), ok8(-1), ok8(-10), ok8(-2), ok8(-3), ok8(-4), ok8(-5), ok8(-6), ok8(-7), ok8(-8), ok8(-9), ok8(0), ok8(1), ok8(2), ok9(-1), ok9(-10), ok9(-2), ok9(-3), ok9(-4), ok9(-5), ok9(-6), ok9(-7), ok9(-8), ok9(-9), ok9(0), ok9(1), ok9(2), ok9(3), p(-1), p(-10), p(-2), p(-3), p(-4), p(-5), p(-6), p(-7), p(-8), p(-9), p(0), p(1), p(10), p(2), p(3), p(4), p(5), p(6), p(7), p(8), p(9)}
{a(-4), a(1), a(2), a(3), d, g, ok1(10), ok1(3), ok1(4), ok1(5), ok1(6), ok1(7), ok1(8), ok1(9), ok2(10), ok2(2), ok2(3), ok2(4), ok2(5), ok2(6), ok2(7), ok2(8), ok2(9), ok3(-1), ok3(-10), ok3(-2), ok3(-3), ok3(-4), ok3(-5), ok3(-6), ok3(-7), ok3(-8), ok3(-9), ok3(0), ok3(1), ok4(-1), ok4(-10), ok4(-2), ok4(-3), ok4(-4), ok4(-5), ok4(-6), ok4(-7), ok4(-8), ok4(-9), ok4(0), ok4(1), ok4(2), ok5(2), ok6(-1), ok6(-10), ok6(-2), ok6(-3), ok6(-4), ok6(-5), ok6(-6), ok6(-7), ok6(-8), ok6(-9), ok6(0), ok6(1), ok7(-1), ok7(-10), ok7(-2), ok7(-3), ok7(-4), ok7(-5), ok7(-6), ok7(-7), ok7(-8), ok7(-9), ok7(0), ok7(1), ok7(2), ok8(-1), ok8(-10), ok8(-2), ok8(-3), ok8(-4), ok8(-5), ok8(-6), ok8(-7), ok8(-8), ok8(-9), ok8(0), ok8(1), ok9(-1), ok9(-10), ok9(-2), ok9(-3), ok9(-4), ok9(-5), ok9(-6), ok9(-7), ok9(-8), ok9(-9), ok9(0), ok9(1), ok9(2), p(-1), p(-10), p(-2), p(-3), p(-4), p(-5), p(-6), p(-7), p(-8), p(-9), p(0), p(1), p(10), p(2), p(3), p(4), p(5), p(6), p(7), p(8), p(9)}
{a(-3), a(-4), a(1), a(2), a(3), d, ok1(0), ok1(1), ok1(10), ok1(2), ok1(3), ok1(4), ok1(5), ok1(6), ok1(7), ok1(8), ok1(9), ok2(-1), ok2(0), ok2(1), ok2(10), ok2(2), ok2(3), ok2(4), ok2(5), ok2(6), ok2(7), ok2(8), ok2(9), ok3(-10), ok3(-2), ok3(-3), ok3(-4), ok3(-5), ok3(-6), ok3(-7), ok3(-8), ok3(-9), ok4(-1), ok4(-10), ok4(-2), ok4(-3), ok4(-4), ok4(-5), ok4(-6), ok4(-7), ok4(-8), ok4(-9), ok5(-1), ok6(-10), ok6(-2), ok6(-3), ok6(-4), ok6(-5), ok6(-6), ok6(-7), ok6(-8), ok6(-9), ok7(-1), ok7(-10), ok7(-2), ok7(-3), ok7(-4), ok7(-5), ok7(-6), ok7(-7), ok7(-8), ok7(-9), ok8(-10), ok8(-2), ok8(-3), ok8(-4), ok8(-5), ok8(-6), ok8(-7), ok8(-8), ok8(-9), ok9(-1), ok9(-10), ok9(-2), ok9(-3), ok9(-4), ok9(-5), ok9(-6), ok9(-7), ok9(-8), ok9(-9), p(-1), p(-10), p(-2), p(-3), p(-4), p(-5), p(-6), p(-7), p(-8), p(-9), p(0), p(1), p(10), p(2), p(3), p(4), p(5), p(6), p(7), p(8), p(9)}
{a(-3), a(-4), a(-5), a(1), a(2), a(3), ok1(-1), ok1(-2), ok1(-3), ok1(-4), ok1(-5), ok1(0), ok1(1), ok1(10), ok1(2), ok1(3), ok1(4), ok1(5), ok1(6), ok1(7), ok1(8), ok1(9), ok2(-1), ok2(-2), ok2(-3), ok2(-4), ok2(-5), ok2(-6), ok2(0), ok2(1), ok2(10), ok2(2), ok2(3), ok2(4), ok2(5), ok2(6), ok2(7), ok2(8), ok2(9), ok3(-10), ok3(-7), ok3(-8), ok3(-9), ok4(-10), ok4(-6), ok4(-7), ok4(-8), ok4(-9), ok5(-6), ok6(-10), ok6(-7), ok6(-8), ok6(-9), ok7(-10), ok7(-6), ok7(-7), ok7(-8), ok7(-9), ok8(-10), ok8(-7), ok8(-8), ok8(-9), ok9(-10), ok9(-6), ok9(-7), ok9(-8), ok9(-9), p(-1), p(-10), p(-2), p(-3), p(-4), p(-5), p(-6), p(-7), p(-8), p(-9), p(0), p(1), p(10), p(2), p(3), p(4), p(5), p(6), p(7), p(8), p(9)}
{a(-4), a(-5), a(1), a(2), a(3), g, ok1(-1), ok1(-2), ok1(0), ok1(1), ok1(10), ok1(2), ok1(3), ok1(4), ok1(5), ok1(6), ok1(7), ok1(8), ok1(9), ok2(-1), ok2(-2), ok2(-3), ok2(0), ok2(1), ok2(10), ok2(2), ok2(3), ok2(4), ok2(5), ok2(6), ok2(7), ok2(8), ok2(9), ok3(-10), ok3(-4), ok3(-5), ok3(-6), ok3(-7), ok3(-8), ok3(-9), ok4(-10), ok4(-3), ok4(-4), ok4(-5), ok4(-6), ok4(-7), ok4(-8), ok4(-9), ok5(-3), ok6(-10), ok6(-4), ok6(-5), ok6(-6), ok6(-7), ok6(-8), ok6(-9), ok7(-10), ok7(-3), ok7(-4), ok7(-5), ok7(-6), ok7(-7), ok7(-8), ok7(-9), ok8(-10), ok8(-4), ok8(-5), ok8(-6), ok8(-7), ok8(-8), ok8(-9), ok9(-10), ok9(-3), ok9(-4), ok9(-5), ok9(-6), ok9(-7), ok9(-8), ok9(-9), p(-1), p(-10), p(-2), p(-3), p(-4), p(-5), p(-6), p(-7), p(-8), p(-9), p(0), p(1), p(10), p(2), p(3), p(4), p(5), p(6), p(7), p(8), p(9)}
{a(-5), a(1), a(2), a(3), f, g, ok1(10), ok1(2), ok1(3), ok1(4), ok1(5), ok1(6), ok1(7), ok1(8), ok1(9), ok2(1), ok2(10), ok2(2), ok2(3), ok2(4), ok2(5), ok2(6), ok2(7), ok2(8), ok2(9), ok3(-1), ok3(-10), ok3(-2), ok3(-3), ok3(-4), ok3(-5), ok3(-6), ok3(-7), ok3(-8), ok3(-9), ok3(0), ok4(-1), ok4(-10), ok4(-2), ok4(-3), ok4(-4), ok4(-5), ok4(-6), ok4(-7), ok4(-8), ok4(-9), ok4(0), ok4(1), ok5(1), ok6(-1), ok6(-10), ok6(-2), ok6(-3), ok6(-4), ok6(-5), ok6(-6), ok6(-7), ok6(-8), ok6(-9), ok6(0), ok7(-1), ok7(-10), ok7(-2), ok7(-3), ok7(-4), ok7(-5), ok7(-6), ok7(-7), ok7(-8), ok7(-9), ok7(0), ok7(1), ok8(-1), ok8(-10), ok8(-2), ok8(-3), ok8(-4), ok8(-5), ok8(-6), ok8(-7), ok8(-8), ok8(-9), ok8(0), ok9(-1), ok9(-10), ok9(-2), ok9(-3), ok9(-4), ok9(-5), ok9(-6), ok9(-7), ok9(-8), ok9(-9), ok9(0), ok9(1), p(-1), p(-10), p(-2), p(-3), p(-4), p(-5), p(-6), p(-7), p(-8), p(-9), p(0), p(1), p(10), p(2), p(3), p(4), p(5), p(6), p(7), p(8), p(9)}
{a(-3), a(-5), a(1), a(2), a(3), f, ok1(-1), ok1(0), ok1(1), ok1(10), ok1(2), ok1(3), ok1(4), ok1(5), ok1(6), ok1(7), ok1(8), ok1(9), ok2(-1), ok2(-2), ok2(0), ok2(1), ok2(10), ok2(2), ok2(3), ok2(4), ok2(5), ok2(6), ok2(7), ok2(8), ok2(9), ok3(-10), ok3(-3), ok3(-4), ok3(-5), ok3(-6), ok3(-7), ok3(-8), ok3(-9), ok4(-10), ok4(-2), ok4(-3), ok4(-4), ok4(-5), ok4(-6), ok4(-7), ok4(-8), ok4(-9), ok5(-2), ok6(-10), ok6(-3), ok6(-4), ok6(-5), ok6(-6), ok6(-7), ok6(-8), ok6(-9), ok7(-10), ok7(-2), ok7(-3), ok7(-4), ok7(-5), ok7(-6), ok7(-7), ok7(-8), ok7(-9), ok8(-10), ok8(-3), ok8(-4), ok8(-5), ok8(-6), ok8(-7), ok8(-8), ok8(-9), ok9(-10), ok9(-2), ok9(-3), ok9(-4), ok9(-5), ok9(-6), ok9(-7), ok9(-8), ok9(-9), p(-1), p(-10), p(-2), p(-3), p(-4), p(-5), p(-6), p(-7), p(-8), p(-9), p(0), p(1), p(10), p(2), p(3), p(4), p(5), p(6), p(7), p(8), p(9)}
"""
